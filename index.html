<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¬ë¯¸ë¡œ ë³´ëŠ” ë‚˜ì˜ MBTI í…ŒìŠ¤íŠ¸</title>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@800;900&display=swap');

        /* --- ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ ì •ì˜ --- */
        :root {
            --main-gold: #ffd700; /* ê³µí†µ ê³¨ë“œ í¬ì¸íŠ¸ ì»¬ëŸ¬ */
            --main-navy: #0d1b2a; /* ê¹Šì€ ë‚¨ìƒ‰ */
            --bg-deep: #02060c; /* ì•„ì£¼ ì–´ë‘ìš´ ë°°ê²½ */
            --container-bg: #0a0f16; /* ì»¨í…Œì´ë„ˆ ë°°ê²½ */
            --mbti-color: var(--main-gold); /* ê²°ê³¼ í™”ë©´ì—ì„œ ë°”ë€” ë™ì  ì»¬ëŸ¬ ë³€ìˆ˜ (ê¸°ë³¸ê°’ ê³¨ë“œ) */
        }

        * { margin:0; padding:0; box-sizing:border-box; }

        body {
            background: var(--bg-deep);
            color: #eee;
            font-family: 'Pretendard', sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 480px;
            background: var(--container-bg);
            border-radius: 20px;
            /* ë‚¨ìƒ‰ê³¼ ê³¨ë“œê°€ ì„ì¸ ì€ì€í•œ ê·¸ë¦¼ì */
            box-shadow: 0 20px 50px rgba(13, 27, 42, 0.7), 0 0 20px rgba(255, 215, 0, 0.1);
            overflow: hidden;
            position: relative;
            min-height: 600px;
            border: 1px solid rgba(255, 215, 0, 0.1);
        }

        .screen { display: none; padding: 40px 25px; text-align: center; animation: fade 0.5s; }
        .screen.active { display: block; }
        @keyframes fade { from {opacity:0; transform:translateY(10px)} to {opacity:1; transform:none} }

        /* --- 1. ì‹œì‘ í™”ë©´ --- */
        #start {
            padding: 0;
            height: 100%;
            position: relative;
            background-color: var(--bg-deep);
        }

        .start-img-bg {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* í…ìŠ¤íŠ¸ë§Œ ìˆëŠ” ë°˜ì§ì´ëŠ” ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .start-btn-wrapper {
            position: absolute;
            bottom: 50px; /* í•˜ë‹¨ ìœ„ì¹˜ */
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            z-index: 10;
            text-align: center;
        }

        .blink-btn {
            background: none; /* ë°°ê²½ ì œê±° */
            border: none;     /* í…Œë‘ë¦¬ ì œê±° */
            color: var(--main-gold);
            font-family: 'Montserrat', sans-serif;
            font-size: 28px;  /* ê¸€ì í¬ê¸° í‚¤ì›€ */
            font-weight: 900;
            cursor: pointer;
            letter-spacing: 3px;
            /* í…ìŠ¤íŠ¸ ìì²´ì— ê¸€ë¡œìš° íš¨ê³¼ */
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5); 
            animation: text-glow 2s infinite alternate;
            transition: transform 0.3s ease;
        }
        
        .blink-btn:hover {
            transform: scale(1.1); /* í˜¸ë²„ ì‹œ ì‚´ì§ ì»¤ì§ */
        }

        /* í…ìŠ¤íŠ¸ ë°˜ì§ì„ ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes text-glow {
            from { 
                opacity: 0.8; 
                text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
            }
            to { 
                opacity: 1; 
                text-shadow: 0 0 20px rgba(255, 215, 0, 1), 0 0 40px rgba(255, 215, 0, 0.8);
            }
        }


        /* --- 2. ì§ˆë¬¸ í™”ë©´ (ê³¨ë“œ í†¤ ìœ ì§€) --- */
        .progress-bar-bg {
            height: 6px; background: #222; border-radius: 3px; margin-bottom: 30px;
        }
        .progress-bar-fill {
            /* ì§„í–‰ë°”ëŠ” ê³¨ë“œìƒ‰ */
            height: 100%; background: var(--main-gold); width: 0%; transition: width 0.3s;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
        .question-text {
            font-size: 20px; font-weight: 600; line-height: 1.5; margin-bottom: 30px; min-height: 60px;
            display: flex; align-items: center; justify-content: center; word-break: keep-all;
            color: #fff;
        }
        .answer-btn {
            background: rgba(255,255,255,0.05); color: #ddd; padding: 18px; border-radius: 12px;
            text-align: left; font-size: 15px; margin-bottom: 12px; cursor: pointer;
            border: 1px solid rgba(255,255,255,0.1); transition: 0.2s;
        }
        /* í˜¸ë²„ ì‹œ ê³¨ë“œ ì»¬ëŸ¬ ì ìš© */
        .answer-btn:hover { border-color: var(--main-gold); color: var(--main-gold); background: rgba(255, 215, 0, 0.1); }


        /* --- 3. ê²°ê³¼ í™”ë©´ (ë™ì  ì»¬ëŸ¬ var(--mbti-color) ì ìš©) --- */
        .result-container {
            background: var(--container-bg); padding: 20px; border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.05);
        }
        
        .mbti-glow {
            font-family: 'Montserrat', sans-serif;
            font-size: 60px; font-weight: 900; color: #fff;
            margin-bottom: 10px;
            /* MBTIë³„ ë™ì  ì»¬ëŸ¬ë¡œ ê¸€ë¡œìš° */
            text-shadow: 0 0 20px var(--mbti-color), 0 0 40px var(--mbti-color);
        }
        
        .result-title { font-size: 24px; margin-bottom: 20px; color: #fff; word-break: keep-all; }
        
        .result-img-box {
            width: 100%; max-width: 280px; margin: 0 auto 20px;
            border-radius: 15px; overflow: hidden;
            /* MBTIë³„ ë™ì  ì»¬ëŸ¬ í…Œë‘ë¦¬ */
            border: 3px solid var(--mbti-color);
        }
        .result-img-box img { width: 100%; display: block; }

        .result-desc {
            font-size: 15px; line-height: 1.6; color: #ccc;
            background: rgba(255,255,255,0.05); padding: 20px; border-radius: 15px;
            text-align: left; margin-bottom: 20px; word-break: keep-all;
            white-space: pre-line;
        }

        .match-wrap { display: flex; gap: 10px; margin-top: 20px; }
        .match-box { flex: 1; background: rgba(255,255,255,0.05); padding: 15px 5px; border-radius: 12px; }
        .match-label { display: block; font-size: 14px; font-weight: 700; margin-bottom: 10px; }
        .match-content { font-family: 'Montserrat', sans-serif; font-size: 16px; font-weight: 700; color: var(--mbti-color); }

        .btn-group { margin-top: 20px; display: flex; gap: 10px; }
        .action-btn { flex: 1; padding: 15px; border: none; border-radius: 10px; font-weight: 700; cursor: pointer; font-size: 14px; transition: 0.2s; }
        /* ìº¡ì³ ë²„íŠ¼ì— MBTI ë™ì  ì»¬ëŸ¬ ì ìš© */
        .capture-btn { background: var(--mbti-color); color: #000; box-shadow: 0 0 15px var(--mbti-color); }
        .capture-btn:hover { filter: brightness(1.2); }
        .restart-btn { background: #333; color: #aaa; }
        .restart-btn:hover { background: #444; color: #fff; }

        /* ë¡œë”© ìŠ¤í”¼ë„ˆ (ê³¨ë“œ) */
        .spinner {
            width: 50px; height: 50px; border: 5px solid rgba(255,255,255,0.1);
            border-top: 5px solid var(--main-gold); border-radius: 50%;
            animation: spin 1s linear infinite; margin: 100px auto 30px;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }
        @keyframes spin { 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div class="container">
        
        <div id="start" class="screen active">
            <img src="https://i.postimg.cc/13kgDrJg/sijag-choejong.jpg" alt="Start Screen" class="start-img-bg">
            
            <div class="start-btn-wrapper">
                <button class="blink-btn" onclick="startTest()">START TEST</button>
            </div>
        </div>

        <div id="question" class="screen">
            <div class="progress-bar-bg">
                <div class="progress-bar-fill" id="progress"></div>
            </div>
            <div class="question-text" id="qtext"></div>
            <div id="answers"></div>
        </div>

        <div id="loading" class="screen">
            <div class="spinner"></div>
            <p style="color: #ccc;">ë‹¹ì‹ ì˜ ë‚´ë©´ì„ íƒí—˜í•˜ëŠ” ì¤‘...</p>
        </div>

        <div id="result" class="screen" style="padding:0;">
            <div id="captureArea" class="result-container">
                <div class="mbti-glow" id="resultType">MBTI</div>
                <div class="result-title" id="resultTitle">íƒ€ì´í‹€</div>
                
                <div class="result-img-box">
                    <img id="resultImg" src="" alt="ê²°ê³¼ ì´ë¯¸ì§€" crossorigin="anonymous">
                </div>
                
                <div class="result-desc" id="resultDesc">ì„¤ëª…</div>

                <div class="match-wrap">
                    <div class="match-box">
                        <span class="match-label" style="color:#ff6b81;">ğŸ’– í™˜ìƒì˜ ì¼€ë¯¸</span>
                        <div class="match-content" id="bestMatch"></div>
                    </div>
                    <div class="match-box">
                        <span class="match-label" style="color:#7bed9f;">ğŸ¤ ìš°ë¦° ì˜ ë§ì„ì§€ë„?</span>
                        <div class="match-content" id="sosoMatch"></div>
                    </div>
                </div>
            </div>

            <div style="padding: 20px;">
                <div class="btn-group">
                    <button class="action-btn capture-btn" onclick="captureResult()">ğŸ’¾ ê²°ê³¼ ì €ì¥</button>
                    <button class="action-btn restart-btn" onclick="restartTest()">â†º ë‹¤ì‹œ í•˜ê¸°</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        let current = 0;
        let scores = {E:0, I:0, S:0, N:0, T:0, F:0, J:0, P:0};

        // 24ë¬¸í•­ (ë”°ëœ»í•œ ë§íˆ¬)
        const questions = [
            { q: "ì£¼ë§ ì•½ì†ì´ ì·¨ì†Œëì„ ë•Œ ë‚˜ì˜ ë°˜ì‘ì€?", a: [{t:"ì•„ì‰½ë„¤.. ë‹¤ë¥¸ ì¹œêµ¬ ëˆ„êµ¬ ì‹œê°„ ë˜ë‚˜?", type:"E", s:2}, {t:"ì˜¤ì˜ˆ! ëœ»ë°–ì˜ íœ´ì‹ ê°œì´ë“!", type:"I", s:2}, {t:"ì ê¹ ì•„ì‰½ì§€ë§Œ í˜¼ì ì¹´í˜ë¼ë„ ê°ˆê¹Œ?", type:"E", s:1}, {t:"ë‹¤í–‰ì´ë‹¤. ì‚¬ì‹¤ ë‚˜ê°€ê¸° ê·€ì°®ì•˜ì–´.", type:"I", s:1}] },
            { q: "ëª¨ì„ì—ì„œ ìê¸°ì†Œê°œë¥¼ í•´ì•¼ í•œë‹¤ë©´?", a: [{t:"ë¨¼ì € ì†ë“¤ê³  ë¶„ìœ„ê¸°ë¥¼ ì£¼ë„í•œë‹¤.", type:"E", s:2}, {t:"ì œë°œ ë‚´ ì°¨ë¡€ê°€ ëŠ¦ê²Œ ì˜¤ê¸¸ ë¹ˆë‹¤.", type:"I", s:2}, {t:"ì ë‹¹íˆ ì›ƒìœ¼ë©° ë¬´ë‚œí•˜ê²Œ í•œë‹¤.", type:"E", s:1}, {t:"ìµœëŒ€í•œ ì§§ê³  ê°„ê²°í•˜ê²Œ ëë‚¸ë‹¤.", type:"I", s:1}] },
            { q: "ê°‘ì‘ìŠ¤ëŸ¬ìš´ ë²ˆê°œ ëª¨ì„ ì œì•ˆ!", a: [{t:"ì¢‹ì§€! ë‹¹ì¥ ë‚˜ê°ˆ ì¤€ë¹„ ì‹œì‘!", type:"E", s:2}, {t:"ìŒ.. ì˜¤ëŠ˜ì€ ì§‘ì—ì„œ ì‰¬ê³  ì‹¶ì€ë°..", type:"I", s:2}, {t:"ëˆ„êµ¬ëˆ„êµ¬ ê°€ëŠ”ë°? ë“¤ì–´ë³´ê³  ê²°ì •.", type:"E", s:1}, {t:"ê±°ì ˆí•˜ê¸° ë¯¸ì•ˆí•´ì„œ ê³ ë¯¼í•œë‹¤.", type:"I", s:1}] },
            { q: "ì—˜ë¦¬ë² ì´í„°ì— ì–´ìƒ‰í•œ ì´ì›ƒê³¼ íƒ”ì„ ë•Œ", a: [{t:"'ì•ˆë…•í•˜ì„¸ìš”~' ê°€ë³ê²Œ ìŠ¤ëª°í† í¬.", type:"E", s:2}, {t:"(í° ë³´ëŠ” ì²™) ì¹¨ë¬µ ìœ ì§€.", type:"I", s:2}, {t:"ëˆˆì¸ì‚¬ ì •ë„ë§Œ í•˜ê³  ìˆëŠ”ë‹¤.", type:"E", s:1}, {t:"ìµœëŒ€í•œ ì¡´ì¬ê°ì„ ìˆ¨ê¸´ë‹¤.", type:"I", s:1}] },
            { q: "ì—ë„ˆì§€ë¥¼ ì¶©ì „í•˜ëŠ” ë°©ì‹ì€?", a: [{t:"ì¹œêµ¬ë“¤ ë§Œë‚˜ì„œ ìˆ˜ë‹¤ ë–¨ê³  ë†€ê¸°.", type:"E", s:2}, {t:"ì´ë¶ˆ ì†ì—ì„œ í˜¼ì ë„·í”Œë¦­ìŠ¤ ë³´ê¸°.", type:"I", s:2}, {t:"í™œë™ì ì¸ ì·¨ë¯¸ ìƒí™œ ì¦ê¸°ê¸°.", type:"E", s:1}, {t:"ì ì„ í‘¹ ìê±°ë‚˜ ë© ë•Œë¦¬ê¸°.", type:"I", s:1}] },
            { q: "íŒŒí‹°ë‚˜ í–‰ì‚¬ì¥ì—ì„œ ë‚˜ëŠ”?", a: [{t:"ì£¼ì¸ê³µì²˜ëŸ¼ ë¬´ëŒ€ë¥¼ ì¦ê¸´ë‹¤.", type:"E", s:2}, {t:"êµ¬ì„ì§„ ìë¦¬ë‚˜ ë²½ ìª½ì— ìˆëŠ”ë‹¤.", type:"I", s:2}, {t:"ì¹œí•œ ì¹œêµ¬ ì˜†ì—ë§Œ ë¶™ì–´ ìˆëŠ”ë‹¤.", type:"E", s:1}, {t:"ì¡°ìš©íˆ ë¶„ìœ„ê¸°ë§Œ ì‚´í”¼ë‹¤ ì˜¨ë‹¤.", type:"I", s:1}] },

            { q: "ë© ë•Œë¦´ ë•Œ ì£¼ë¡œ í•˜ëŠ” ìƒê°ì€?", a: [{t:"ì˜¤ëŠ˜ ì ì‹¬ ë­ ë¨¹ì§€? í˜„ì‹¤ì ì¸ ê³ ë¯¼.", type:"S", s:2}, {t:"ë§Œì•½ ì¢€ë¹„ê°€ ë‚˜íƒ€ë‚˜ë©´? ìƒìƒì˜ ë‚˜ë˜.", type:"N", s:2}, {t:"ì–´ì œ ìˆì—ˆë˜ ì¼ ê³±ì”¹ê¸°.", type:"S", s:1}, {t:"ë¯¸ë˜ì— ëŒ€í•œ ë§‰ì—°í•œ ê³µìƒ.", type:"N", s:1}] },
            { q: "ë§›ì§‘ì„ ê³ ë¥´ëŠ” ê¸°ì¤€ì€?", a: [{t:"ë°©ë¬¸ì ë¦¬ë·°ì™€ í‰ì  íŒ©íŠ¸ ì²´í¬.", type:"S", s:2}, {t:"ê°€ê²Œ ë¶„ìœ„ê¸°ì™€ ë…íŠ¹í•œ ì»¨ì…‰.", type:"N", s:2}, {t:"ìœ„ì¹˜ë‚˜ ê°€ê²©, ì›¨ì´íŒ… ì •ë³´.", type:"S", s:1}, {t:"ê·¸ ì‹ë‹¹ì´ ì£¼ëŠ” ëŠë‚Œì ì¸ ëŠë‚Œ.", type:"N", s:1}] },
            { q: "ìƒˆ ê¸°ê³„ë¥¼ ìƒ€ì„ ë•Œ?", a: [{t:"ì„¤ëª…ì„œë¥¼ ê¼¼ê¼¼íˆ ì½ì–´ë³¸ë‹¤.", type:"S", s:2}, {t:"ì¼ë‹¨ ì´ê²ƒì €ê²ƒ ëˆŒëŸ¬ë³´ë©° ê°ìœ¼ë¡œ.", type:"N", s:2}, {t:"í•„ìš”í•œ ê¸°ëŠ¥ë§Œ ê²€ìƒ‰í•´ì„œ ë³¸ë‹¤.", type:"S", s:1}, {t:"ì„¤ëª…ì„œëŠ” ë‚˜ì¤‘ì—, ì¼ë‹¨ ì¼ ë‹¤.", type:"N", s:1}] },
            { q: "ì˜í™”ë¥¼ ë³´ê³  ë‚œ í›„ ëŒ€í™”", a: [{t:"ë°°ìš° ì—°ê¸°ë‘ CGê°€ ëŒ€ë°•ì´ì—ˆì–´.", type:"S", s:2}, {t:"ê·¸ ì¥ë©´ì˜ ìˆ¨ì€ ì˜ë¯¸ëŠ” ë­˜ê¹Œ?", type:"N", s:2}, {t:"ìŠ¤í† ë¦¬ê°€ ì¢€ ë§ì´ ì•ˆ ë˜ì§€ ì•Šì•„?", type:"S", s:1}, {t:"ì£¼ì¸ê³µ ê°ì •ì— ê³¼ëª°ì…í•´ì„œ í† ë¡ .", type:"N", s:1}] },
            { q: "ê¸¸ì„ ì„¤ëª…í•  ë•Œ ë‚˜ëŠ”?", a: [{t:"'í¸ì˜ì ì—ì„œ ìš°íšŒì „í•´ 100m ì§ì§„.'", type:"S", s:2}, {t:"'í° ì€í–‰ ê±´ë¬¼ ìª½ ëŠë‚Œìœ¼ë¡œ ì­‰ ê°€.'", type:"N", s:2}, {t:"ì •í™•í•œ ìœ„ì¹˜ë¥¼ ì§€ë„ë¡œ ì°ì–´ì¤€ë‹¤.", type:"S", s:1}, {t:"ì£¼ë³€ í° ê±´ë¬¼ ìœ„ì£¼ë¡œ ì„¤ëª…í•œë‹¤.", type:"N", s:1}] },
            { q: "ìš”ë¦¬í•  ë•Œ ë ˆì‹œí”¼ í™œìš©ë²•", a: [{t:"ì •í™•í•˜ê²Œ ê³„ëŸ‰í•´ì„œ ë„£ëŠ”ë‹¤.", type:"S", s:2}, {t:"ë‚´ ê°ì„ ë¯¿ê³  ì ë‹¹íˆ ë„£ëŠ”ë‹¤.", type:"N", s:2}, {t:"ìˆëŠ” ì¬ë£Œì— ë§ì¶° ë³€ê²½í•œë‹¤.", type:"S", s:1}, {t:"ìƒˆë¡œìš´ ì¬ë£Œë¡œ ì°½ì‘ ìš”ë¦¬ ì‹œë„.", type:"N", s:1}] },

            { q: "ì¹œêµ¬ê°€ 'ë‚˜ ìš°ìš¸í•´ì„œ ë¹µ ìƒ€ì–´'ë¼ê³  í•˜ë©´?", a: [{t:"ë¬´ìŠ¨ ë¹µ? ë§›ìˆì–´? ì–´ë””ì„œ ìƒ€ì–´?", type:"T", s:2}, {t:"ì €ëŸ°.. ë¬´ìŠ¨ ì¼ ìˆì–´? ê´œì°®ì•„?", type:"F", s:2}, {t:"ì™œ ìš°ìš¸í•´? ë¹µ ë¨¹ìœ¼ë©´ ì¢€ ë‚˜ì•„ì ¸?", type:"T", s:1}, {t:"ë‹¬ë‹¬í•œ ê±° ë¨¹ê³  ê¸°ë¶„ í’€ë ¤ë¼ ì–!", type:"F", s:1}] },
            { q: "ì¹œêµ¬ê°€ ì°¨ ì‚¬ê³  ë‚¬ë‹¤ê³  ì „í™”í•˜ë©´?", a: [{t:"ì•ˆ ë‹¤ì³¤ì–´? ë³´í—˜ì‚¬ëŠ” ë¶ˆë €ê³ ?", type:"T", s:2}, {t:"í—!! ëª¸ì€ ê´œì°®ì•„?! ë§ì´ ë†€ëì§€ ã… ã… ", type:"F", s:2}, {t:"ì°¨ ë§ì´ ë§ê°€ì¡Œì–´? ì‚¬ì§„ ì°ì–´ë´.", type:"T", s:1}, {t:"ì§€ê¸ˆ ì–´ë””ì•¼? ë‚´ê°€ ê°ˆê¹Œ?", type:"F", s:1}] },
            { q: "ê³ ë¯¼ ìƒë‹´ì„ í•´ì¤„ ë•Œ ë‚˜ëŠ”?", a: [{t:"í˜„ì‹¤ì ì¸ í•´ê²°ì±…ì„ ì œì‹œí•œë‹¤.", type:"T", s:2}, {t:"ê³µê°í•´ì£¼ë©° ë¬µë¬µíˆ ë“¤ì–´ì¤€ë‹¤.", type:"F", s:2}, {t:"ë¬¸ì œì˜ ì›ì¸ì„ ë¶„ì„í•œë‹¤.", type:"T", s:1}, {t:"ë¬´ì¡°ê±´ ê·¸ ì‚¬ëŒ í¸ì„ ë“¤ì–´ì¤€ë‹¤.", type:"F", s:1}] },
            { q: "ë“£ê³  ì‹¶ì€ ì¹­ì°¬ì€?", a: [{t:"'ë„ˆ ì§„ì§œ ì¼ ì˜í•œë‹¤. ëŠ¥ë ¥ ìˆì–´.'", type:"T", s:2}, {t:"'ë„ˆë‘ ìˆìœ¼ë©´ ë§ˆìŒì´ í¸í•´.'", type:"F", s:2}, {t:"'ê²°ê³¼ë¬¼ì´ ì™„ë²½í•˜ë„¤.'", type:"T", s:1}, {t:"'ë„¤ ë•ë¶„ì— ë¶„ìœ„ê¸°ê°€ ì¢‹ì•„ì¡Œì–´.'", type:"F", s:1}] },
            { q: "í›„ë°°ê°€ ì‹¤ìˆ˜í•´ì„œ í˜¼ë‚  ë•Œ", a: [{t:"'ë‹¤ìŒë¶€í„´ ë§¤ë‰´ì–¼ ì˜ í™•ì¸í•´.'", type:"T", s:2}, {t:"'ë§ì´ ì†ìƒí•˜ì§€? ì»¤í”¼ í•œì”í• ë˜?'", type:"F", s:2}, {t:"'ì–´ë””ì„œ ì‹¤ìˆ˜í–ˆëŠ”ì§€ ê°™ì´ ë³´ì.'", type:"T", s:1}, {t:"'ëˆ„êµ¬ë‚˜ ì‹¤ìˆ˜í•´. ê¸°ì£½ì§€ ë§ˆ.'", type:"F", s:1}] },
            { q: "ì• ì¸ê³¼ ì‹¸ì› ì„ ë•Œ", a: [{t:"ë…¼ë¦¬ì ìœ¼ë¡œ ë”°ì§€ê³  í•´ê²°ì±… ì°¾ê¸°.", type:"T", s:2}, {t:"ì„œìš´í•œ ê°ì • ì´í•´ë°›ê³  ê³µê°í•˜ê¸°.", type:"F", s:2}, {t:"ì‹œê°„ ê°–ê³  ì´ì„±ì ìœ¼ë¡œ ëŒ€í™”.", type:"T", s:1}, {t:"ë¨¼ì € ì‚¬ê³¼í•˜ê³  ê°ì • í’€ì–´ì£¼ê¸°.", type:"F", s:1}] },

            { q: "ì—¬í–‰ ì§ ì‹¸ê¸° ìŠ¤íƒ€ì¼", a: [{t:"ë©°ì¹  ì „ë¶€í„° ë¦¬ìŠ¤íŠ¸ëŒ€ë¡œ ê¼¼ê¼¼íˆ.", type:"J", s:2}, {t:"ì¶œë°œ ì§ì „ì— í›„ë‹¤ë‹¥ ì±™ê¸´ë‹¤.", type:"P", s:2}, {t:"ì „ë‚  ë°¤ì— í¼ì³ë†“ê³  ì‹¼ë‹¤.", type:"J", s:1}, {t:"ê°€ì„œ ì‚¬ë©´ ë˜ì§€! ì—¬ê¶Œ, ì§€ê°‘ ë.", type:"P", s:1}] },
            { q: "ì¤‘ìš”í•œ ì‹œí—˜ì´ë‚˜ ë§ˆê°", a: [{t:"ê³„íšëŒ€ë¡œ ë¯¸ë¦¬ë¯¸ë¦¬ ëë‚¸ë‹¤.", type:"J", s:2}, {t:"ë‹¥ì³ì•¼ í•œë‹¤. ë²¼ë½ì¹˜ê¸° ì¥ì¸.", type:"P", s:2}, {t:"ëŒ€ëµì ì¸ ì¼ì •ë§Œ ì¡ëŠ”ë‹¤.", type:"J", s:1}, {t:"ë§ˆê° ì§ì „ì— ì´ˆëŠ¥ë ¥ì´ ë‚˜ì˜¨ë‹¤.", type:"P", s:1}] },
            { q: "ì•½ì† ì¥ì†Œ ì •í•˜ê¸°", a: [{t:"ë§›ì§‘, ì¹´í˜, ë™ì„ ê¹Œì§€ ì™„ë²½ ê³„íš.", type:"J", s:2}, {t:"ë§Œë‚˜ì„œ 'ë­ ë¨¹ì„ë˜?' í•˜ê³  ì •í•œë‹¤.", type:"P", s:2}, {t:"ê°€ê³  ì‹¶ì€ ê³³ í›„ë³´ë§Œ ì •í•œë‹¤.", type:"J", s:1}, {t:"ê·¸ë‚  ë‚ ì”¨ë‚˜ ê¸°ë¶„ì— ë”°ë¼ ì¦‰í¥ì .", type:"P", s:1}] },
            { q: "ê³„íšì´ í‹€ì–´ì¡Œì„ ë•Œ", a: [{t:"ìŠ¤íŠ¸ë ˆìŠ¤.. ë‹¤ì‹œ ê³„íšì„ ìˆ˜ì •í•œë‹¤.", type:"J", s:2}, {t:"ì˜¤íˆë ¤ ì¢‹ì•„! ëœ»ë°–ì˜ ìƒí™© ì¦ê¹€.", type:"P", s:2}, {t:"ë‹¹í™©ìŠ¤ëŸ½ì§€ë§Œ ìƒí™©ì— ë§ì¶˜ë‹¤.", type:"J", s:1}, {t:"ê³„íšì€ ë°”ë€Œë¼ê³  ìˆëŠ” ë²•.", type:"P", s:1}] },
            { q: "ë‚´ ë°© ìƒíƒœëŠ”?", a: [{t:"ë¬¼ê±´ë“¤ì´ ì œìë¦¬ì— ì •ë¦¬ë¨.", type:"J", s:2}, {t:"ë‚˜ë§Œì˜ ì§ˆì„œê°€ ìˆëŠ” ì¹´ì˜¤ìŠ¤.", type:"P", s:2}, {t:"ì£¼ê¸°ì ìœ¼ë¡œ ë‚  ì¡ê³  ì¹˜ìš´ë‹¤.", type:"J", s:1}, {t:"ì¹˜ì›Œë„ ê¸ˆë°© ì–´ì§ˆëŸ¬ì ¸ì„œ í¬ê¸°.", type:"P", s:1}] },
            { q: "ì¼ ì²˜ë¦¬ ìŠ¤íƒ€ì¼", a: [{t:"ìš°ì„ ìˆœìœ„ëŒ€ë¡œ ì°¨ê·¼ì°¨ê·¼.", type:"J", s:2}, {t:"í¥ë¯¸ë¡œìš´ ê²ƒë¶€í„°, ë™ì‹œì— ì—¬ëŸ¬ ê°œ.", type:"P", s:2}, {t:"ë§ˆê° ê¸°í•œì€ ê¼­ ì§€í‚¨ë‹¤.", type:"J", s:1}, {t:"ê³¼ì •ì„ ì¦ê¸°ë‹¤ ë§ˆê°ì„ ë„˜ê¸°ê¸°ë„..", type:"P", s:1}] }
        ];

        // ê²°ê³¼ ë°ì´í„° (ì‹¤ì œ ì´ë¯¸ì§€ URL ì ìš©)
        const results = {
            "ENTJ": { color: "#ff4d4d", title:"ì„±ê³µí•œ ì Šì€ CEO", desc:"ì•¼ë§ê³¼ ë¦¬ë”ì‹­ì˜ í™”ì‹ .\nëª©í‘œë¥¼ í–¥í•´ ê±°ì¹¨ì—†ì´ ëŒì§„í•˜ëŠ” ë¶ˆë„ì €ì…ë‹ˆë‹¤. í° ê·¸ë¦¼ì„ ê·¸ë¦¬ê³  ì‚¬ëŒë“¤ì„ ì´ë„ëŠ” ë° ì²œë¶€ì ì¸ ì¬ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤.", img:"https://i.postimg.cc/RFBF8bzX/1-ENTJ-cheonglyong-migug-(nyuyog-ui-seong-gonghan-jeolm-eun-CEO).jpg", best:["INTP", "ISTP"], soso:["ISFJ", "ESFJ"] },
            "INTJ": { color: "#8e44ad", title:"ëƒ‰ì² í•œ ì „ëµê°€", desc:"ìš©ì˜ì£¼ë„í•œ ì „ëµê°€.\në‚¨ë“¤ì´ ë³´ì§€ ëª»í•˜ëŠ” íŒ¨í„´ì„ ê¿°ëš«ì–´ ë´…ë‹ˆë‹¤. í˜¼ìë§Œì˜ ì‹œê°„ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ìœ¼ë©° ì™„ë²½ì„ ì¶”êµ¬í•©ë‹ˆë‹¤.", img:"https://i.postimg.cc/Dy82CKXW/2-INTJ-hyeonmu-dog-il-(naengcheolhan-beleullin-ui-cheolhagja).jpg", best:["ENFP", "ENTP"], soso:["ESFJ", "ISFJ"] },
            "ENFJ": { color: "#ffaa00", title:"ì—´ì •ì ì¸ ë¦¬ë”", desc:"ì‚¬ëŒì„ ì´ë„ëŠ” ë”°ëœ»í•œ ë¶ˆê½ƒ.\níƒ€ì¸ì˜ ì ì¬ë ¥ì„ ì„±ì¥ì‹œí‚¤ëŠ” ë° íƒì›”í•©ë‹ˆë‹¤. ëª¨ë‘ê°€ í–‰ë³µí•œ ì„¸ìƒì„ ê¿ˆê¾¸ëŠ” ì§„ì •í•œ í‰í™”ì£¼ì˜ìì…ë‹ˆë‹¤.", img:"https://i.postimg.cc/YqhpXwWj/3-ENFJ-jujag-geuliseu-(jijunghaeui-yeoljeongjeog-in-taeyang).jpg", best:["ISFP", "INFP"], soso:["ISTJ", "ESTJ"] },
            "ENFP": { color: "#00e676", title:"ììœ ë¡œìš´ ìŠ¤íŒŒí¬", desc:"ì–´ë””ë¡œ íŠˆì§€ ëª¨ë¥´ëŠ” ë§¤ë ¥ë©ì–´ë¦¬.\nìƒìƒë ¥ì´ í’ë¶€í•˜ê³  ì—ë„ˆì§€ê°€ ë„˜ì³ ì£¼ë³€ì„ ì¦ê²ê²Œ ë§Œë“­ë‹ˆë‹¤. ë°˜ë³µë˜ëŠ” ì¼ìƒë³´ë‹¤ëŠ” ëª¨í—˜ì„ ì‚¬ë‘í•©ë‹ˆë‹¤.", img:"https://i.postimg.cc/ncCHdtDX/4-ENFP-gumiho-beulajil-(lioui-hwalyeohan-chugje).jpg", best:["INTJ", "INFJ"], soso:["ISTJ", "ESTJ"] },
            
            "ISTJ": { color: "#2980b9", title:"í´ë˜ì‹í•œ ì‹ ì‚¬ìˆ™ë…€", desc:"ì„¸ìƒì˜ ì†Œê¸ˆ ê°™ì€ ì¡´ì¬.\ní•œê²°ê°™ì€ ì„±ì‹¤í•¨ê³¼ ì±…ì„ê°ìœ¼ë¡œ ë§¡ì€ ì¼ì„ ì™„ë²½í•˜ê²Œ í•´ëƒ…ë‹ˆë‹¤. ë³€í™”ë³´ë‹¤ëŠ” ì•ˆì •ì„ ì¶”êµ¬í•˜ëŠ” ì‹ ë¢°ì˜ ì•„ì´ì½˜ì…ë‹ˆë‹¤.", img:"https://i.postimg.cc/PrPt6kw5/5-ISTJ-so-yeong-gug-(keullaesighan-leondeon-ui-sinsasugnyeo).jpg", best:["ESTJ", "ESFP"], soso:["ENFP", "INFP"] },
            "ISFJ": { color: "#6ab04c", title:"í¬ê·¼í•œ íëŸ¬", desc:"ë‹¤ì •í•˜ê³  ì„¸ì‹¬í•œ ìˆ˜í˜¸ì.\nì¡°ìš©íˆ ë’¤ì—ì„œ íƒ€ì¸ì„ ì±™ê²¨ì£¼ëŠ” ë°°ë ¤ì‹¬ ê¹Šì€ ì„±ê²©ì…ë‹ˆë‹¤. ê°ˆë“±ì„ ì‹«ì–´í•˜ê³  ë”°ëœ»í•œ ì¡°í™”ë¥¼ ì¤‘ìš”ì‹œí•©ë‹ˆë‹¤.", img:"https://i.postimg.cc/zXVJd1gX/6-ISFJ-yang-seuwiseu-(alpeuseuui-pogeunhan-hilleo).jpg", best:["ESFJ", "ESTP"], soso:["ENTP", "INTJ"] },
            "ESTJ": { color: "#c0392b", title:"ì—„ê²©í•œ ê´€ë¦¬ì", desc:"ì§ˆì„œì™€ íš¨ìœ¨ì˜ í™”ì‹ .\nëª…í™•í•œ ëª©í‘œë¥¼ ì„¸ìš°ê³  ì²´ê³„ì ìœ¼ë¡œ ì¶”ì§„í•©ë‹ˆë‹¤. í˜„ì‹¤ ê°ê°ì´ ë›°ì–´ë‚˜ê³  ì¡°ì§ì„ ì´ë„ëŠ” ë° ëŠ¥ìˆ™í•œ í•´ê²°ì‚¬ì…ë‹ˆë‹¤.", img:"https://i.postimg.cc/SNJyZpMQ/7-ESTJ-dalg-jung-gug-(sanghaiui-wanbyeogjuui-elliteu).jpg", best:["ISTJ", "ISTP"], soso:["INFP", "ENFP"] },
            "ESFJ": { color: "#f1c40f", title:"ë‹¤ì •í•œ í˜¸ìŠ¤íŠ¸", desc:"ì‚¬ë‘ ë„˜ì¹˜ëŠ” ë¶„ìœ„ê¸° ë©”ì´ì»¤.\nì‚¬ëŒì„ ì¢‹ì•„í•˜ê³  íƒ€ì¸ì˜ ê°ì •ì— ê¹Šì´ ê³µê°í•©ë‹ˆë‹¤. ì£¼ë³€ì„ ì±™ê¸°ëŠ” ê²ƒì„ ì¦ê¸°ë©° ì–´ë””ì„œë‚˜ í™˜ì˜ë°›ìŠµë‹ˆë‹¤.", img:"https://i.postimg.cc/pXp20tFW/8-ESFJ-gae-taegug-(misoui-nala-dajeonghan-hoseuteu).jpg", best:["ISFP", "ISFJ"], soso:["INTJ", "ENTJ"] },

            "ISTP": { color: "#7f8c8d", title:"ë§ŒëŠ¥ ì¬ì£¼ê¾¼", desc:"ììœ ë¡œìš´ ì˜í˜¼ì˜ í˜„ì‹¤ì£¼ì˜ì.\nëƒ‰ì² í•œ ì´ì„±ê³¼ ë›°ì–´ë‚œ ê´€ì°°ë ¥ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤. ë¶ˆí•„ìš”í•œ ê°ì • ì†Œëª¨ë¥¼ ì‹«ì–´í•˜ëŠ” ì¿¨í•œ ë§¤ë ¥ì˜ ì†Œìœ ìì…ë‹ˆë‹¤.", img:"https://i.postimg.cc/kXBnjdbq/9-ISTP-baem-leosia-(sibeliaui-chagaun-gisulja).jpg", best:["ESTJ", "ENTJ"], soso:["ENFJ", "ESFJ"] },
            "ISFP": { color: "#ff7979", title:"ëª½í™˜ì ì¸ ì˜ˆìˆ ê°€", desc:"ì˜¨í™”í•˜ê³  ê²¸ì†í•œ ì•„í‹°ìŠ¤íŠ¸.\ní’ë¶€í•œ ê°ìˆ˜ì„±ê³¼ ë¯¸ì  ê°ê°ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤. íƒ€ì¸ì„ ë°°ë ¤í•˜ì§€ë§Œ ìì‹ ë§Œì˜ ì‹œê°„ê³¼ ê³µê°„ì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•©ë‹ˆë‹¤.", img:"https://i.postimg.cc/bNsz6jth/10-ISFP-tokki-peulangseu-(paliui-monghwanjeog-in-yesulga).jpg", best:["ENFJ", "ESFJ"], soso:["ENTJ", "ESTJ"] },
            "ESTP": { color: "#e67e22", title:"ì™€ì¼ë“œí•œ ëª¨í—˜ê°€", desc:"ê±°ì¹¨ì—†ëŠ” í–‰ë™íŒŒ.\nìŠ¤ë¦´ê³¼ ë„ì „ì„ ì¦ê¸°ë©°, ê³ ë¯¼í•  ì‹œê°„ì— ì¼ë‹¨ ì €ì§€ë¥´ê³  ë´…ë‹ˆë‹¤. íƒ€ê³ ë‚œ ì„¼ìŠ¤ì™€ ì ì‘ë ¥ìœ¼ë¡œ ì‚¶ì„ ì¦ê¹ë‹ˆë‹¤.", img:"https://i.postimg.cc/yYkVfzZC/11-ESTP-holang-i-hoju-(ausbaeg-ui-waildeuhan-moheomga).jpg", best:["ISFJ", "ENTP"], soso:["INFP", "ENFP"] },
            "ESFP": { color: "#ff9ff3", title:"ì •ì—´ì˜ ëŒ„ì„œ", desc:"íƒ€ê³ ë‚œ ìŠˆí¼ìŠ¤íƒ€ ì¬ì§ˆ.\nì–´ë””ì„œë‚˜ ì£¼ëª©ë°›ëŠ” ê²ƒì„ ì¦ê¸°ëŠ” ë¶„ìœ„ê¸° ë©”ì´ì»¤ì…ë‹ˆë‹¤. ë‚™ì²œì ì´ê³  ì—ë„ˆì§€ê°€ ë„˜ì³ í•¨ê»˜ ìˆìœ¼ë©´ ì¦ê²ìŠµë‹ˆë‹¤.", img:"https://i.postimg.cc/yYkVfzZ4/12-ESFP-mal-seupein-(jeong-yeol-ui-peullamengko-daenseo).jpg", best:["ISTJ", "INTP"], soso:["INTJ", "ENTJ"] },

            "INFP": { color: "#a29bfe", title:"ë‚­ë§Œì ì¸ ìš”ì •", desc:"ìˆœìˆ˜í•œ ì´ìƒì£¼ì˜ì.\në§ˆìŒì†ì— ìì‹ ë§Œì˜ ì•„ë¦„ë‹¤ìš´ ìš°ì£¼ë¥¼ í’ˆê³  ìˆìŠµë‹ˆë‹¤. íƒ€ì¸ì—ê²Œ ê¹Šì´ ê³µê°í•˜ë©° ì§„ì •ì„± ìˆëŠ” ê´€ê³„ë¥¼ ì¶”êµ¬í•©ë‹ˆë‹¤.", img:"https://i.postimg.cc/T2kdqPpf/13-INFP-dwaeji-aiseullandeu-(olola-alaeui-yojeong).jpg", best:["ENFJ", "ENTJ"], soso:["ESTJ", "ISTJ"] },
            "INTP": { color: "#54a0ff", title:"ì²œì¬ ì—°êµ¬ì›", desc:"ì§€ì  í˜¸ê¸°ì‹¬ì´ ë„˜ì¹˜ëŠ” ë¶„ì„ê°€.\nëŠì„ì—†ì´ ì„¸ìƒì„ ë¶„ì„í•˜ê³  ìƒˆë¡œìš´ ì•„ì´ë””ì–´ë¥¼ íƒêµ¬í•©ë‹ˆë‹¤. ì¡°ìš©í•˜ì§€ë§Œ ë¹„ë²”í•œ ì‚¬ê³ ë°©ì‹ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.", img:"https://i.postimg.cc/7YfxByTj/14-INTP-jwi-ilbon-(dokyoui-cheonjae-haekeo).jpg", best:["ENTJ", "ESFP"], soso:["ESFJ", "ISFJ"] },
            "ENTP": { color: "#00d2d3", title:"ìœ ì¾Œí•œ ë³€ë¡ ê°€", desc:"ì¬ì¹˜ ë„˜ì¹˜ëŠ” ì•„ì´ë””ì–´ ë±…í¬.\nê³ ì •ê´€ë…ì„ ê¹¨ê³  ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì„ íƒìƒ‰í•©ë‹ˆë‹¤. ë…¼ìŸì„ ì¦ê¸°ë©° ì„¸ìƒì„ ë’¤í”ë“¤ ì ì¬ë ¥ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.", img:"https://i.postimg.cc/kXBnjdtz/15-ENTP-wonsung-i-itallia-(lomaui-yukwaehan-kwaelagjuuija).jpg", best:["INFJ", "ESTP"], soso:["ISFJ", "ISTJ"] },
            "INFJ": { color: "#6c5ce7", title:"ì‹ ë¹„ë¡œìš´ ì‚¬ì œ", desc:"ê¹Šì€ í†µì°°ë ¥ì˜ ì†Œìœ ì.\nì‚¬ëŒì˜ ë§ˆìŒì„ ê¿°ëš«ì–´ ë³´ëŠ” ì§ê´€ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤. ì¡°ìš©í•˜ì§€ë§Œ ê°•í•œ ì‹ ë…ìœ¼ë¡œ ì„¸ìƒì„ ê¸ì •ì ìœ¼ë¡œ ë°”ê¿‰ë‹ˆë‹¤.", img:"https://i.postimg.cc/pXp20tn7/16-INFJ-sansinlyeong-ijibteu-(nailgang-ui-sinbiloun-saje).jpg", best:["ENTP", "ENFP"], soso:["ESTP", "ISTP"] }
        };

        function startTest() {
            document.getElementById('start').classList.remove('active');
            document.getElementById('question').classList.add('active');
            showQuestion();
        }

        function showQuestion() {
            if (current >= questions.length) {
                showLoading();
                return;
            }
            const q = questions[current];
            document.getElementById('qtext').textContent = `Q${current+1}. ${q.q}`;
            
            const div = document.getElementById('answers');
            div.innerHTML = '';
            q.a.forEach(ans => {
                const btn = document.createElement('div');
                btn.className = 'answer-btn';
                btn.textContent = ans.t;
                btn.onclick = () => {
                    scores[ans.type] += ans.s;
                    current++;
                    showQuestion();
                };
                div.appendChild(btn);
            });
            document.getElementById('progress').style.width = `${(current/questions.length)*100}%`;
        }

        function showLoading() {
            document.getElementById('question').classList.remove('active');
            document.getElementById('loading').classList.add('active');
            setTimeout(showResult, 2000);
        }

        function showResult() {
            document.getElementById('loading').classList.remove('active');
            document.getElementById('result').classList.add('active');

            const mbti = (scores.E>scores.I?"E":"I")+(scores.S>scores.N?"S":"N")+(scores.T>scores.F?"T":"F")+(scores.J>scores.P?"J":"P");
            const r = results[mbti];

            // ê²°ê³¼ í™”ë©´ ì§„ì… ì‹œì—ë§Œ ë™ì  ì»¬ëŸ¬ ì ìš©
            document.documentElement.style.setProperty('--mbti-color', r.color);

            document.getElementById('resultType').innerText = mbti;
            document.getElementById('resultTitle').innerText = r.title;
            document.getElementById('resultImg').src = r.img;
            document.getElementById('resultDesc').innerText = r.desc;
            
            // ê¶í•© ë°ì´í„°
            document.getElementById('bestMatch').innerText = r.best.join(", ");
            document.getElementById('sosoMatch').innerText = r.soso.join(", ");
        }

        function captureResult() {
            const area = document.getElementById('captureArea');
            // ìº¡ì³ ì‹œ ë°°ê²½ìƒ‰ì„ ì»¨í…Œì´ë„ˆ ë°°ê²½ìƒ‰ê³¼ ë™ì¼í•˜ê²Œ ì„¤ì •
            html2canvas(area, { useCORS: true, scale: 2, backgroundColor: "#0a0f16" })
            .then(canvas => {
                const link = document.createElement('a');
                link.download = 'my_mbti.png';
                link.href = canvas.toDataURL("image/png");
                link.click();
            });
        }

        function restartTest() {
            current = 0;
            scores = {E:0, I:0, S:0, N:0, T:0, F:0, J:0, P:0};
            // ë‹¤ì‹œ ì‹œì‘í•  ë•Œ ë™ì  ì»¬ëŸ¬ë¥¼ ê¸°ë³¸ ê³¨ë“œë¡œ ì´ˆê¸°í™”
            document.documentElement.style.setProperty('--mbti-color', 'var(--main-gold)');
            document.getElementById('result').classList.remove('active');
            document.getElementById('start').classList.add('active');
        }
    </script>
</body>
</html>
